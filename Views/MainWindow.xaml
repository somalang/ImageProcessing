<Window x:Class="ImageProcessing.Views.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="clr-namespace:ImageProcessing.ViewModel"
        Title="Image Processing App"
        Height="600"
        Width="900">

    <Window.DataContext>
        <vm:MainViewModel />
    </Window.DataContext>

    <DockPanel>
        <Menu DockPanel.Dock="Top">
            <MenuItem Header="파일">
                <MenuItem Header="불러오기" Command="{Binding LoadImageCommand}" />
                <MenuItem Header="원본 보기" Command="{Binding ShowOriginalImageCommand}" />
                <MenuItem Header="삭제" Command="{Binding DeleteImageCommand}" />
                <MenuItem Header="다시 불러오기" Command="{Binding ReloadImageCommand}" />
                <Separator />
                <MenuItem Header="저장" Command="{Binding SaveImageCommand}" />
                <MenuItem Header="종료" Command="{Binding ExitCommand}" />
            </MenuItem>
            <MenuItem Header="편집">
                <MenuItem Header="되돌리기 (Undo)" Command="{Binding UndoCommand}" />
                <MenuItem Header="다시하기 (Redo)" Command="{Binding RedoCommand}" />
                <Separator/>
                <MenuItem Header="오려두기" Command="{Binding CutSelectionCommand}" />
                <MenuItem Header="복제" Command="{Binding CopySelectionCommand}" />
                <MenuItem Header="삭제" Command="{Binding DeleteSelectionCommand}" />
            </MenuItem>
            <MenuItem Header="필터">
                <MenuItem Header="그레이스케일" Command="{Binding ApplyGrayscaleCommand}" />
                <MenuItem Header="가우시안 블러" Command="{Binding ApplyGaussianBlurCommand}" />
                <MenuItem Header="미디언 필터" Command="{Binding ApplyMedianFilterCommand}" />
                <MenuItem Header="라플라시안" Command="{Binding ApplyLaplacianCommand}" />
                <MenuItem Header="소벨" Command="{Binding ApplySobelCommand}" />
                <MenuItem Header="형태학">
                    <MenuItem Header="이진화..." Command="{Binding ApplyBinarizationCommand}" />
                    <MenuItem Header="팽창..." Command="{Binding ApplyDilationCommand}" />
                    <MenuItem Header="침식..." Command="{Binding ApplyErosionCommand}" />
                </MenuItem>
            </MenuItem>
            <MenuItem Header="FFT">
                <MenuItem Header="푸리에 변환" Command="{Binding FFTCommand}" />
                <MenuItem Header="역 변환" Command="{Binding IFFTCommand}" />
            </MenuItem>
            <MenuItem Header="매칭">
                <MenuItem Header="템플릿 매칭" Command="{Binding TemplateMatchCommand}" />
            </MenuItem>
            <MenuItem Header="설정">
                <MenuItem Header="환경 설정" Command="{Binding OpenSettingsCommand}" />
            </MenuItem>
        </Menu>

        <StatusBar DockPanel.Dock="Bottom">
            <StatusBarItem>
                <TextBlock Text="{Binding CurrentCoordinates}" />
            </StatusBarItem>
        </StatusBar>

        <Grid Margin="5">
            <Border BorderBrush="Gray" BorderThickness="1">
                <Image x:Name="DisplayImage"
                       Source="{Binding LoadedImage}"
                       Stretch="Uniform" />
            </Border>
            <Canvas Background="Transparent"
                    MouseDown="Canvas_MouseDown"
                    MouseMove="Canvas_MouseMove"
                    MouseUp="Canvas_MouseUp"
                    MouseLeave="Canvas_MouseLeave">
                <Rectangle Stroke="Cyan"
                           StrokeThickness="2"
                           Fill="#5500FFFF"
                           Visibility="{Binding SelectionVisibility}"
                           Canvas.Left="{Binding SelectionRect.X}"
                           Canvas.Top="{Binding SelectionRect.Y}"
                           Width="{Binding SelectionRect.Width}"
                           Height="{Binding SelectionRect.Height}" />
            </Canvas>
        </Grid>
    </DockPanel>
</Window>